---
title: "同源策略以及跨域解决方案"
date: 2021-07-06
---
1. 什么是同源策略？  
   同源策略（same-origin policy）是一种出于浏览器安全方面的考虑而出台的一种策略，它可以保证用户信息的安全，防止恶意的网站窃取。所谓同源是指“协议+域名+端口”三者相同。
2. 同源策略限制的内容有：
   - Cookie、LocalStorage、IndexedDB等存储性内容
   - DOM节点
   - AJAX请求发送后，结果被浏览器拦截了
   > 特别注意：AJAX跨域请求是可以正常发出去并返回结果的，只是结果被浏览器拦截了。
3. 允许跨域加载资源的三个标签
   ```HTML
   <img src="/">
   <link href="/">
   <script src="/">
   ```
4. 跨域解决方案一，使用CORS。  
   服务端设置Access-Control-Allow-Origin即可开启CORS跨域访问。
5. 跨域解决方案二，使用JSONP。  
   JSONP是通过 script 标签加载数据的方式去获取数据，当做 JS 代码来执行。 提前在页面上声明一个函数，函数名通过接口传参的方式传给后台，后台解析到函数名后在原始数据上「包裹」这个函数名，发送给前端。
   